{"mappings":"ACAA,MAAM,EAAa,SAAS,aAAa,CAAC,aACpC,EAAgB,SAAS,aAAa,CAAC,gBACvC,EAAa,SAAS,aAAa,CAAC,aACpC,EAAc,SAAS,aAAa,CAAC,aACpC,EAAP,wBAEA,IAAI,EAAU,EAiBd,SAAS,EAAc,CAAO,EAC1B,IAAM,EAAW,SAAS,aAAa,CAAC,KACxC,CAAA,EAAS,EAAE,CAAG,WAAa,KAAK,EAAE,CAClC,EAAS,SAAS,CAAG,CAAC;4BACE,EAAE,EAAQ,IAAI,CAAC;4BACf,EAAE,EAAQ,OAAO,CAAC;;;;;YAKlC,CAAC,CACT,EAAW,MAAM,CAAC,EACtB,CAxBI,MAAM,CAAC,EAAE,EAAQ,aAAa,CAAC,EAC9B,IAAI,CAAC,AAAA,IACC,EAAI,EAAE,CACL,EAAI,IAAI,GAAG,IAAI,CAAC,AAAA,GAAe,EAAY,OAAO,CAAC,AAAA,GAAW,EAAc,KAE5E,MAAM,6BAEd,GAAG,KAAK,CAAC,AAAA,IACL,MAAM,wCACV,GAiBJ,EAAW,gBAAgB,CAAC,QAAS,KACjC,GAAG,AAAyB,SAAzB,EAAW,SAAS,CAAY,CAC/B,IAAM,EAAO,EAAW,KAAK,CACvB,EAAU,EAAc,KAAK,CACnC,GAAG,AAAuB,IAAvB,EAAK,IAAI,GAAG,MAAM,CAAO,CACxB,EAAW,KAAK,GAChB,EAAW,MAAM,GACjB,MACJ,CAAqC,IAA1B,EAAQ,IAAI,GAAG,MAAM,GAC5B,EAAc,KAAK,GACnB,EAAc,MAAM,IAGxB,MAAM,CAAC,EAAE,EAAQ,aAAa,CAAC,CAAE,CAC7B,OAAS,OACT,QAAU,CACN,eAAiB,kBACrB,EACA,KAAO,KAAK,SAAS,CACjB,CACI,KAAM,EAAW,KAAK,CACtB,QAAS,EAAc,KAAK,AAChC,EAER,GAAG,IAAI,CAAC,AAAA,IACD,EAAI,EAAE,CACL,EAAI,IAAI,GAAG,IAAI,CAAC,AAAA,IACZ,EAAc,GACd,EAAW,KAAK,CAAG,GACnB,EAAc,KAAK,CAAG,GACtB,EAAW,KAAK,GAChB,EAAc,KAAK,EACvB,GAEA,MAAM,uBAEd,GAAG,KAAK,CAAC,AAAA,IACL,MAAM,wCACV,EACJ,MAAO,GAAI,AAAyB,WAAzB,EAAW,SAAS,CAAc,CACzC,IAAM,EAAU,CACZ,KAAM,EAAW,KAAK,CACtB,QAAS,EAAc,KAAK,AAChC,EACA,MAAM,CAAC,EAAE,EAAQ,cAAc,EAAE,EAAU,CAAC,CAAE,CAC1C,OAAQ,QACR,QAAS,CACL,eAAiB,kBACrB,EACA,KAAO,KAAK,SAAS,CAAC,EAC1B,GAAG,IAAI,CAAC,AAAA,IACC,EAAI,EAAE,EAIP,EAAW,KAAK,CAAG,GACnB,EAAc,KAAK,CAAG,KAJtB,EAAW,KAAK,GAChB,MAAM,gCAKd,GAAG,KAAK,CAAC,AAAA,IACL,EAAW,KAAK,GAChB,MAAM,kCACV,EACJ,CAEJ,GAGA,EAAW,gBAAgB,CAAC,QAAS,AAAC,IAC/B,EAAE,MAAM,EAAE,UAAU,SAAS,WAC5B,EAAY,EAAE,MAAM,CAAC,OAAO,CAAC,MAAM,EAAE,CAAC,SAAS,CAAC,GAEhD,MAAM,CAAC,EAAE,EAAQ,cAAc,EAAE,EAAU,CAAC,CAAE,CAAC,OAAQ,QAAQ,GAC9D,IAAI,CAAC,AAAA,IACC,EAAI,EAAE,CACL,EAAE,MAAM,CAAC,OAAO,CAAC,MAAM,MAAM,GAE7B,MAAM,8BAEd,GAAG,KAAK,CAAC,AAAA,IACL,MAAM,kCACV,IACM,EAAE,MAAM,EAAE,UAAU,SAAS,UACnC,EAAY,EAAE,MAAM,CAAC,OAAO,CAAC,MAAM,EAAE,CAAC,SAAS,CAAC,GAChD,EAAW,KAAK,CAAG,EAAE,MAAM,CAAC,OAAO,CAAC,YAAY,SAAS,CACzD,EAAc,KAAK,CAAG,EAAE,MAAM,CAAC,OAAO,CAAC,eAAe,SAAS,CAC/D,EAAW,SAAS,CAAG,SAE/B,GAGA,EAAc,gBAAgB,CAAC,WAAY,AAAC,IAC3B,UAAV,EAAE,GAAG,EACJ,EAAW,KAAK,EAExB","sources":["<anon>","src/js/teachers.js"],"sourcesContent":["var $fc6722b5ab55b789$exports = {};\nconst $fc6722b5ab55b789$var$txtNameElm = document.querySelector(\"#txt-name\");\nconst $fc6722b5ab55b789$var$txtContactElm = document.querySelector(\"#txt-contact\");\nconst $fc6722b5ab55b789$var$btnSaveElm = document.querySelector(\"#btn-save\");\nconst $fc6722b5ab55b789$var$tblBodyElm = document.querySelector(\"#tbl-body\");\nconst $fc6722b5ab55b789$var$API_URL = \"http://localhost:8080\";\nlet $fc6722b5ab55b789$var$teacherId = 0;\n$fc6722b5ab55b789$var$loadAllTeachers();\nfunction $fc6722b5ab55b789$var$loadAllTeachers() {\n    fetch(`${$fc6722b5ab55b789$var$API_URL}/app/teachers`).then((res)=>{\n        if (res.ok) res.json().then((teacherList)=>teacherList.forEach((teacher)=>$fc6722b5ab55b789$var$createTeacher(teacher)));\n        else alert(\"Faild to load teacher list\");\n    }).catch((err)=>{\n        alert(\"Something went wrong please try again\");\n    });\n}\nfunction $fc6722b5ab55b789$var$createTeacher(teacher) {\n    const newTrElm = document.createElement(\"tr\");\n    newTrElm.id = \"teacher-\" + task.id;\n    newTrElm.innerHTML = `            \n                        <td>${teacher.name}</td>\n                        <td>${teacher.contact}</td>\n                        <td class=\"d-flex justify-content-center\">\n                            <i class=\"edit bi bi-pencil-fill me-3\" title=\"Edit\"></i>\n                            <i class=\"delete bi bi-trash3-fill\" title=\"Delete\"></i>\n                        </td>\n            `;\n    $fc6722b5ab55b789$var$tblBodyElm.append(newTrElm);\n}\n$fc6722b5ab55b789$var$btnSaveElm.addEventListener(\"click\", ()=>{\n    if ($fc6722b5ab55b789$var$btnSaveElm.innerText === \"SAVE\") {\n        const name = $fc6722b5ab55b789$var$txtNameElm.value;\n        const contact = $fc6722b5ab55b789$var$txtContactElm.value;\n        if (name.trim().length === 0) {\n            $fc6722b5ab55b789$var$txtNameElm.focus();\n            $fc6722b5ab55b789$var$txtNameElm.select();\n            return;\n        } else if (contact.trim().length === 0) {\n            $fc6722b5ab55b789$var$txtContactElm.focus();\n            $fc6722b5ab55b789$var$txtContactElm.select();\n        }\n        fetch(`${$fc6722b5ab55b789$var$API_URL}/app/teachers`, {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify({\n                name: $fc6722b5ab55b789$var$txtNameElm.value,\n                contact: $fc6722b5ab55b789$var$txtContactElm.value\n            })\n        }).then((res)=>{\n            if (res.ok) res.json().then((teacher)=>{\n                $fc6722b5ab55b789$var$createTeacher(teacher);\n                $fc6722b5ab55b789$var$txtNameElm.value = \"\";\n                $fc6722b5ab55b789$var$txtContactElm.value = \"\";\n                $fc6722b5ab55b789$var$txtNameElm.focus();\n                $fc6722b5ab55b789$var$txtContactElm.focus();\n            });\n            else alert(\"Faild to add teacher\");\n        }).catch((err)=>{\n            alert(\"Something went worng. Try again later\");\n        });\n    } else if ($fc6722b5ab55b789$var$btnSaveElm.innerText === \"UPDATE\") {\n        const teacher = {\n            name: $fc6722b5ab55b789$var$txtNameElm.value,\n            contact: $fc6722b5ab55b789$var$txtContactElm.value\n        };\n        fetch(`${$fc6722b5ab55b789$var$API_URL}/app/teachers/${$fc6722b5ab55b789$var$teacherId}`, {\n            method: \"PATCH\",\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify(teacher)\n        }).then((res)=>{\n            if (!res.ok) {\n                $fc6722b5ab55b789$var$txtNameElm.focus();\n                alert(\"Failed to update the teacher\");\n            } else {\n                $fc6722b5ab55b789$var$txtNameElm.value = \"\";\n                $fc6722b5ab55b789$var$txtContactElm.value = \"\";\n            }\n        }).catch((err)=>{\n            $fc6722b5ab55b789$var$txtNameElm.focus();\n            alert(\"Something went wrong, try again\");\n        });\n    }\n});\n$fc6722b5ab55b789$var$tblBodyElm.addEventListener(\"click\", (e)=>{\n    if (e.target?.classList.contains(\"delete\")) {\n        $fc6722b5ab55b789$var$teacherId = e.target.closest(\"tr\").id.substring(8);\n        fetch(`${$fc6722b5ab55b789$var$API_URL}/app/teachers/${$fc6722b5ab55b789$var$teacherId}`, {\n            method: \"DELETE\"\n        }).then((res)=>{\n            if (res.ok) e.target.closest(\"tr\").remove();\n            else alert(\"Faild to delete the teacher\");\n        }).catch((err)=>{\n            alert(\"Something went wrong, try again\");\n        });\n    } else if (e.target?.classList.contains(\"edit\")) {\n        $fc6722b5ab55b789$var$teacherId = e.target.closest(\"tr\").id.substring(8);\n        $fc6722b5ab55b789$var$txtNameElm.value = e.target.closest(\"#td-name\").innerText;\n        $fc6722b5ab55b789$var$txtContactElm.value = e.target.closest(\"#td-contact\").innerText;\n        $fc6722b5ab55b789$var$btnSaveElm.innerText = \"UPDATE\";\n    }\n});\n$fc6722b5ab55b789$var$txtContactElm.addEventListener(\"keypress\", (e)=>{\n    if (e.key === \"Enter\") $fc6722b5ab55b789$var$btnSaveElm.click();\n});\n\n\n//# sourceMappingURL=teachers.027e8497.js.map\n","const txtNameElm = document.querySelector(\"#txt-name\");\nconst txtContactElm = document.querySelector(\"#txt-contact\");\nconst btnSaveElm = document.querySelector(\"#btn-save\");\nconst tblBodyElm =  document.querySelector(\"#tbl-body\");\nconst {API_URL} = process.env\n\nlet teacherId=0;\n\nloadAllTeachers();\n\nfunction loadAllTeachers(){\n    fetch(`${API_URL}/app/teachers`)\n    .then(res => {\n        if(res.ok){\n            res.json().then(teacherList => teacherList.forEach(teacher => createTeacher(teacher)))\n        }else{\n            alert(\"Faild to load teacher list\")\n        }\n    }).catch(err => {\n        alert(\"Something went wrong please try again\");\n    });\n}\n\nfunction createTeacher(teacher) {\n    const newTrElm = document.createElement(\"tr\");\n    newTrElm.id = \"teacher-\" + task.id;\n    newTrElm.innerHTML = `            \n                        <td>${teacher.name}</td>\n                        <td>${teacher.contact}</td>\n                        <td class=\"d-flex justify-content-center\">\n                            <i class=\"edit bi bi-pencil-fill me-3\" title=\"Edit\"></i>\n                            <i class=\"delete bi bi-trash3-fill\" title=\"Delete\"></i>\n                        </td>\n            `;\n    tblBodyElm.append(newTrElm);\n}\n\nbtnSaveElm.addEventListener(\"click\", () => {\n    if(btnSaveElm.innerText === \"SAVE\"){\n        const name = txtNameElm.value;\n        const contact = txtContactElm.value;\n        if(name.trim().length === 0){\n            txtNameElm.focus();\n            txtNameElm.select();\n            return;\n        } else if (contact.trim().length === 0) {\n            txtContactElm.focus();\n            txtContactElm.select();\n        }\n\n        fetch(`${API_URL}/app/teachers`, {\n            method : \"POST\",\n            headers : {\n                \"Content-Type\" : \"application/json\"\n            },\n            body : JSON.stringify(\n                {\n                    name: txtNameElm.value,\n                    contact: txtContactElm.value\n                }\n            )\n        }).then(res => {\n            if(res.ok){\n                res.json().then(teacher => {\n                    createTeacher(teacher);\n                    txtNameElm.value = \"\";\n                    txtContactElm.value = \"\";\n                    txtNameElm.focus();\n                    txtContactElm.focus();\n                })\n            } else {\n                alert(\"Faild to add teacher\");\n            }\n        }).catch(err => {\n            alert(\"Something went worng. Try again later\");\n        })\n    } else if (btnSaveElm.innerText === \"UPDATE\"){\n        const teacher = {\n            name: txtNameElm.value,\n            contact: txtContactElm.value\n        };\n        fetch(`${API_URL}/app/teachers/${teacherId}`, {\n            method: \"PATCH\",\n            headers: {\n                \"Content-Type\" : \"application/json\"\n            },\n            body : JSON.stringify(teacher)\n        }).then(res => {\n            if (!res.ok){\n                txtNameElm.focus();\n                alert(\"Failed to update the teacher\");\n            }else {\n                txtNameElm.value = \"\";\n                txtContactElm.value = \"\";\n            }\n        }).catch(err => {\n            txtNameElm.focus();\n            alert(\"Something went wrong, try again\");\n        })\n    } \n\n})\n\n\ntblBodyElm.addEventListener(\"click\", (e) => {\n    if(e.target?.classList.contains(\"delete\")){\n        teacherId = e.target.closest(\"tr\").id.substring(8);\n\n        fetch(`${API_URL}/app/teachers/${teacherId}`, {method: \"DELETE\"})\n        .then(res => {\n            if(res.ok){\n                e.target.closest(\"tr\").remove();\n            } else {\n                alert(\"Faild to delete the teacher\");\n            }\n        }).catch(err => {\n            alert(\"Something went wrong, try again\");\n        })  \n    } else if(e.target?.classList.contains(\"edit\")){\n        teacherId = e.target.closest(\"tr\").id.substring(8);\n        txtNameElm.value = e.target.closest(\"#td-name\").innerText\n        txtContactElm.value = e.target.closest(\"#td-contact\").innerText\n        btnSaveElm.innerText = \"UPDATE\";\n    }\n})\n\n\ntxtContactElm.addEventListener(\"keypress\", (e)=>{\n    if(e.key === \"Enter\") {\n        btnSaveElm.click();\n    }\n})\n"],"names":["$fc6722b5ab55b789$var$txtNameElm","document","querySelector","$fc6722b5ab55b789$var$txtContactElm","$fc6722b5ab55b789$var$btnSaveElm","$fc6722b5ab55b789$var$tblBodyElm","$fc6722b5ab55b789$var$API_URL","$fc6722b5ab55b789$var$teacherId","$fc6722b5ab55b789$var$createTeacher","teacher","newTrElm","createElement","id","task","innerHTML","name","contact","append","fetch","then","res","ok","json","teacherList","forEach","alert","catch","err","addEventListener","innerText","value","trim","length","focus","select","method","headers","body","JSON","stringify","e","target","classList","contains","closest","substring","remove","key","click"],"version":3,"file":"teachers.027e8497.js.map"}